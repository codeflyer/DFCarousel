/**!
 * @Project: df-carousel
 * @Author: Davide Fiorello
 * @Link: https://github.com/codeflyer
 * @License: MIT
 * @Date: 2015-02-15
 * @Version: 0.0.1
***/

!function(){"use strict";angular.module("df.carousel",[])}(),function(){"use strict";function a(){function a(a,b){if(b>=a.length||0>b)throw new Error("Image required out of index");return b>0?a[b-1]:a[a.length-1]}function b(a,b){if(b>=a.length||0>b)throw new Error("Image required out of index");return a[b]}function c(a,b){if(b>=a.length||0>b)throw new Error("Image required out of index");return b<a.length-1?a[b+1]:a[0]}return{getImageUrlPrev:a,getImageUrlCurrent:b,getImageUrlNext:c}}angular.module("df.carousel").service("dfCarouselService",a)}(),function(){"use strict";function a(a){function b(a){return{w:a[0].clientWidth,h:a[0].clientHeight}}function c(){var a=angular.element(document.createElement("div"));return a.css("width","100%"),a.css("height","100%"),a}function d(){var b=angular.element("<style>");b[0].type="text/css",b[0].innerHTML="df-carousel {display: block}.df-carousel .df-carousel-default-transition { -webkit-transition: 600ms cubic-bezier(0.250, 0.250, 0.750, 0.750) all;-moz-transition: 600ms cubic-bezier(0.250, 0.250, 0.750, 0.750) all;-ms-transition: 600ms cubic-bezier(0.250, 0.250, 0.750, 0.750) all;-o-transition: 600ms cubic-bezier(0.250, 0.250, 0.750, 0.750) all;transition: 600ms cubic-bezier(0.250, 0.250, 0.750, 0.750) all; }",angular.element(a[0].querySelector("head")).append(b)}function e(a,b){var c=angular.element("<ul>");return c.css("position","relative"),c.css("margin","0px"),c.css("top","0"),c.css("float","left"),c.css("padding","0"),c.css("listStyle","none"),c.css("listStyleType","none"),c.css("width",3*a+"px"),c.css("height",b+"px"),c}function f(){var a=angular.element("<li>");return a.css("height","100%"),a.css("width","33.33333333%"),a.css("padding","0"),a.css("listStyle","none"),a.css("listStyleType","none"),a.css("display","block"),a.css("border","1px solid #ccc"),a.css("float","left"),a.css("boxSizing","border-box"),a}function g(a,b,c){var d=angular.element("<div>");return d.addClass("carousel-button"),d.addClass(b),d.css("position","relative"),d.css("display","inline-block"),d.css("cursor","pointer"),d.css("height","100%"),d.css("width","50px"),d.css("marginTop","-"+a+"px"),d.css("boxSizing","border-box"),d.css("float",b),d.on("click",c),d}function h(a){var b=angular.element("<img>");return b.attr("src",a),b.css("height","100%"),b.css("width","100%"),b}return{domCreateInnerDiv:c,domCreateUlElement:e,domCreateLiElement:f,domCreateButton:g,domInitDefaultCssClasses:d,domCreateImageContainer:h,getDimension:b}}angular.module("df.carousel").service("dfCarouselDomService",a),a.$inject=["$document"]}(),function(){"use strict";function a(a,b,c){function d(c,d){d.addClass("df-carousel"),d.css("overflow","hidden");var e=a.domCreateInnerDiv();d.append(e);var f=a.getDimension(e),g=f.w,j=f.h;c.lastWidth=g,c.lastHeight=j,c.containerUlElement=a.domCreateUlElement(g,j),c.prevBox=a.domCreateLiElement(g,j),c.currentBox=a.domCreateLiElement(g,j),c.nextBox=a.domCreateLiElement(g,j),c.prevBox.css("visibility","hidden"),c.nextBox.css("visibility","hidden"),c.containerUlElement.append(c.prevBox),c.containerUlElement.append(c.currentBox),c.containerUlElement.append(c.nextBox),c.goLeftButton=a.domCreateButton(j,"left",function(){c.goLeft(c,e,h)}),e.append(c.goLeftButton),c.goRightButton=a.domCreateButton(j,"right",function(){c.goRight(c,e,i)}),e.append(c.goRightButton),c.containerUlElement.css("left","-"+g+"px"),c.prevBox.append(a.domCreateImageContainer(b.getImageUrlPrev(c.itemList,c.currentIndex))),c.currentBox.append(a.domCreateImageContainer(b.getImageUrlCurrent(c.itemList,c.currentIndex))),c.nextBox.append(a.domCreateImageContainer(b.getImageUrlNext(c.itemList,c.currentIndex))),e.prepend(c.containerUlElement),c.isInit=!0}function e(b,c){if(b.onResize||!b.isInit)return!1;b.onResize=!0;var d=a.getDimension(c),e=d.w,f=d.h;return b.lastWidth===e&&b.lastHeight===f?(b.onResize=!1,!1):(b.lastWidth=e,b.lastHeight=f,b.containerUlElement.css("width",3*e+"px"),b.containerUlElement.css("height",f+"px"),b.containerUlElement.css("left","-"+e+"px"),b.prevBox.css("width",e+"px"),b.currentBox.css("width",e+"px"),b.nextBox.css("width",e+"px"),b.goLeftButton.css("marginTop","-"+f+"px"),b.goRightButton.css("marginTop","-"+f+"px"),b.onResize=!1,!0)}function f(b,d,e){if(!b.onMoving){var f=a.getDimension(d),g=f.w,h=f.h;b.onMoving=!0,b.containerUlElement.one(c.transitionEndEventName,function(){e(b,g,h)}),b.containerUlElement.addClass("df-carousel-default-transition"),b.containerUlElement.addClass("df-carousel-transition"),b.prevBox.css("visibility",""),b.containerUlElement.css("left","0px")}}function g(b,d,e){if(!b.onMoving){var f=a.getDimension(d),g=f.w,h=f.h;b.onMoving=!0,b.containerUlElement.one(c.transitionEndEventName,function(){e(b,g,h)}),b.containerUlElement.addClass("df-carousel-default-transition"),b.containerUlElement.addClass("df-carousel-transition"),b.nextBox.css("visibility",""),b.containerUlElement.css("left","-"+2*g+"px")}}function h(c,d,e){c.containerUlElement.removeClass("df-carousel-default-transition"),c.containerUlElement.removeClass("df-carousel-transition"),c.nextBox.remove(),c.currentIndex--,c.currentIndex<0&&(c.currentIndex=c.itemList.length-1);var f=a.domCreateLiElement(d,e);f.css("width",d+"px"),f.append(a.domCreateImageContainer(b.getImageUrlPrev(c.itemList,c.currentIndex))),c.containerUlElement.prepend(f),c.containerUlElement.css("left","-"+d+"px"),c.nextBox=c.currentBox,c.currentBox=c.prevBox,c.prevBox=f,c.prevBox.css("visibility","hidden"),c.nextBox.css("visibility","hidden"),c.onMoving=!1}function i(c,d,e){c.containerUlElement.removeClass("df-carousel-default-transition"),c.containerUlElement.removeClass("df-carousel-transition"),c.currentIndex++,c.currentIndex>=c.itemList.length&&(c.currentIndex=0),c.containerUlElement.css("left","-"+d+"px"),c.prevBox.remove();var f=a.domCreateLiElement(d,e);f.css("width",d+"px"),f.append(a.domCreateImageContainer(b.getImageUrlNext(c.itemList,c.currentIndex))),c.containerUlElement.append(f),c.prevBox=c.currentBox,c.currentBox=c.nextBox,c.nextBox=f,c.prevBox.css("visibility","hidden"),c.nextBox.css("visibility","hidden"),c.onMoving=!1}return{init:d,resize:e,goRight:g,goLeft:f,transitionLeftEnd:h,transitionRightEnd:i}}angular.module("df.carousel").service("dfCarouselMethodsService",a),a.$inject=["dfCarouselDomService","dfCarouselService","dfTransitionService"]}(),function(){"use strict";function a(a,b,c,d){function e(d,e){d.containerUlElement=null,d.prevBox=null,d.currentBox=null,d.nextBox=null,d.currentIndex=0,d.isInit=!1,d.onResize=!1,d.onMoving=!1,d.lastHeight,d.lastWidth,d.init=c.init,d.resize=c.resize,d.goLeft=c.goLeft,d.goRight=c.goRight,d.init(d,e),angular.element(a).bind("resize",function(){b(function(){d.resize(d,e)},50)})}d.domInitDefaultCssClasses();var f={link:e,restrict:"AE",scope:{itemList:"="}};return f}angular.module("df.carousel").directive("dfCarousel",a),a.$inject=["$window","$timeout","dfCarouselMethodsService","dfCarouselDomService"]}(),function(){"use strict";function a(a){for(var b in a)if(void 0!==c.style[b])return a[b]}function b(){return{transitionEndEventName:e}}var c=document.createElement("trans"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},e=a(d);angular.module("df.carousel").service("dfTransitionService",b)}();
